<!DOCTYPE html>
<html xmlns:sec = "http://www.thymeleaf.org/extras/spring-security"
	  xmlns:th = "http://www.thymeleaf.org">

<div th:fragment = "header">
	<nav class = "navbar navbar-expand-sm bg-primary navbar-dark">
		<button aria-controls = "navbarTogglerDemo03" aria-expanded = "false" aria-label = "Toggle navigation"
				class = "navbar-toggler" data-target = "#navbarTogglerDemo03"
				data-toggle = "collapse" type = "button">
			<span class = "navbar-toggler-icon"></span>
		</button>
		<a class = "navbar-brand" href = "/">Shop</a>

		<div class = "collapse navbar-collapse" id = "navbarTogglerDemo03">
			<ul class = "navbar-nav mr-auto mt-2 mt-lg-0">
				<li class = "nav-item" sec:authorize = "hasAnyAuthority('ROLE_ADMIN')">
					<a class = "nav-link" href = "/admin/item/new">상품 등록</a>
				</li>
				<li class = "nav-item" sec:authorize = "hasAnyAuthority('ROLE_ADMIN')">
					<a class = "nav-link" href = "/admin/items">상품 관리</a>
				</li>
				<li class = "nav-item" sec:authorize = "isAuthenticated()">
					<a class = "nav-link" href = "/cart">장바구니</a>
				</li>
				<li class = "nav-item" sec:authorize = "isAuthenticated()">
					<a class = "nav-link" href = "/orders">구매이력</a>
				</li>
				<li class = "nav-item" sec:authorize = "isAnonymous()">
					<a class = "nav-link" href = "/members/login">로그인</a>
				</li>
				<li class = "nav-item" sec:authorize = "isAuthenticated()">
					<a class = "nav-link" href = "/members/logout">로그아웃</a>
				</li>
			</ul>
			<form class = "form-inline my-2 my-lg-0" method = "get" th:action = "@{/}">
				<input aria-label = "Search" class = "form-control mr-sm-2" name = "searchQuery" placeholder = "Search"
					   type = "search">
				<button class = "btn btn-outline-success my-2 my-sm-0" type = "submit">Search</button>
			</form>
		</div>
	</nav>
</div>

</html>